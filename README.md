# react-loadable-webpack-bug

This demonstrates a bug in the way that react-loadable intracts with webpack. If you pop open the `index.js` you'll see it's simply importing `react-loadable`. Check out the `bundle.js` file (which is generated by webpack) and you'll see some interesting things in there:

1. [`webpackEmptyContext`](https://github.com/kentcdodds/react-loadable-webpack-bug/blob/b2e7226491d17426f96e7f97d81d3566a154732a/bundle.js#L232-L244) - a module that webpack makes when you do `require(somethingDynamic)`.
2. [`require` replaced by IIFE that throws](https://github.com/kentcdodds/react-loadable-webpack-bug/blob/b2e7226491d17426f96e7f97d81d3566a154732a/bundle.js#L104)

Now, if you look at [this commit](https://github.com/kentcdodds/react-loadable-webpack-bug/commit/15898ccf8027993a40efc81fa9c72395f1a56525), it uses [my branch of react-loadable](https://github.com/kentcdodds/react-loadable/tree/pr/remove-webpack-warning) instead and the problem is fixed. Now:

1. `webpackEmptyContext` is replaced by a [`module` polyfill](https://github.com/kentcdodds/react-loadable-webpack-bug/blob/6094a6e1f2631b84578c0425176cb2d0c0868fc7/bundle.js#L239-L266) (to account for `module.require`). This is actually dead code because `module.require` will never be used when running this with webpack anyway. :shrug:
2. `require` is now `requireFn` which will be assigned to `__webpack_require__` when running with webpack and simply `module.require` when running in node.

I've verified that my fix works wonderfully in my app. :) 
